#### Variables for easy-rsa (version 2), build-server and build-ovpn

### Server's External DN/IP(s), optional with port, like: WANURL:WANPORT
## Multiple entries for failover allowed, space-separated between the quotes
WAN=""

### server's LAN port (if empty defaults to 1194)
LANPORT=""

### Unused DHCP range on the server's LAN for VPN clients to access SMB shares
## Adds 'server-bridge' directive to ovpn if set
## Syntax: "START-END" which is the range of the final octet of the LAN subnet
##   (the GW's first 3 octets, plus the range specified)
DHCP_RANGE=""

## Auto-discovered in build-server, but overrideable here:
DEV=""
LANIP=""
GW=""
MASK=""

### Exported variables are needed for easy-rsa
## Adapt the certificate:
export KEY_COUNTRY="TH"  ## 2-capital country-code
export KEY_PROVINCE="10"  ## 10:Bangkok
export KEY_CITY=""
export KEY_ORG=""
export KEY_EMAIL=""
export KEY_NAME="server"
export KEY_OU="uVPN"
export KEY_CN="server"
# export KEY_ALTNAMES=""  ## Should start with 'DNS:'

### Choose DNS servers (space-separated between quotes)
## - Google's DNS harvesters: 8.8.8.8 8.8.4.4
## - OpenDNS with filter options: 208.67.222.222 208.67.220.220
## - DNS.watch unlogged, DNSSEC enabled: 84.200.69.80 84.200.70.40
## - The router's DNS: "LOCAL" (will be replaced with the detected gateway)
DNS="LOCAL"
# DNS="84.200.69.80 84.200.70.40"

CONF="/etc/openvpn"
export KEY_DIR="$CONF/keys"
export EASY_RSA="$(whereis easy-rsa |grep -o '[^ ]*$')"
export OPENSSL="openssl"
export CA_EXPIRE="3650"
export KEY_EXPIRE="3650"
export KEY_SIZE="4096"
export PKCS11_MODULE_PATH="dummy"
# export PKCS11_MODULE_PATH="$(shopt -s nullglob; find /usr/lib/*/opensc-pkcs11.so)"
export PKCS11_PIN="dummy"
# export PKCS11_PIN="1234"
export KEY_CONFIG="$($EASY_RSA/whichopensslcnf "$EASY_RSA")"
